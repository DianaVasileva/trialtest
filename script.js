document.addEventListener('DOMContentLoaded', () => {
    loadRatings('data/user.json');
  
    const tabButtons = document.querySelectorAll('[data-tab]');
    tabButtons.forEach(button => {
      button.addEventListener('click', () => {
        const tabName = button.getAttribute('data-tab');
        const jsonPath = `data/${tabName}.json`;
        loadRatings(jsonPath);
  
        tabButtons.forEach(btn => btn.classList.remove('active'));
        button.classList.add('active');
      });
    });
  });
  
  function loadRatings(jsonFile) {
    fetch(jsonFile)
      .then(response => response.json())
      .then(data => {
        const container = document.getElementById('rating-list');
        container.innerHTML = '';
  
        data.forEach(item => {
          const card = document.createElement('div');
          card.className = 'tab-pane__item';
  
          card.innerHTML = `

          <div class="item__img">
                  <img src="${item.logo}" alt="logo">
                </div>
                <div class="item__rating">
                    <svg class="rating-desc" width="96" height="17" viewBox="0 0 96 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M7.68335 2.43381C7.71257 2.37478 7.7577 2.3251 7.81366 2.29036C7.86961 2.25562 7.93416 2.23721 8.00002 2.23721C8.06588 2.23721 8.13043 2.25562 8.18639 2.29036C8.24234 2.3251 8.28747 2.37478 8.31669 2.43381L9.85669 5.55314C9.95814 5.75845 10.1079 5.93608 10.2931 6.07078C10.4783 6.20547 10.6934 6.29322 10.92 6.32648L14.364 6.83048C14.4293 6.83993 14.4906 6.86746 14.541 6.90994C14.5914 6.95243 14.629 7.00817 14.6494 7.07088C14.6698 7.13359 14.6722 7.20075 14.6564 7.26477C14.6406 7.32879 14.6072 7.38711 14.56 7.43314L12.0694 9.85848C11.9051 10.0185 11.7822 10.2161 11.7112 10.4342C11.6403 10.6523 11.6234 10.8844 11.662 11.1105L12.25 14.5371C12.2615 14.6024 12.2545 14.6695 12.2297 14.7309C12.2049 14.7923 12.1633 14.8455 12.1097 14.8845C12.0561 14.9234 11.9927 14.9465 11.9266 14.9511C11.8605 14.9557 11.7945 14.9416 11.736 14.9105L8.65735 13.2918C8.4545 13.1853 8.22881 13.1296 7.99969 13.1296C7.77057 13.1296 7.54488 13.1853 7.34202 13.2918L4.26402 14.9105C4.20557 14.9414 4.13962 14.9553 4.07365 14.9506C4.00769 14.946 3.94437 14.9229 3.89088 14.884C3.8374 14.8451 3.79591 14.7919 3.77112 14.7306C3.74634 14.6693 3.73926 14.6023 3.75069 14.5371L4.33802 11.1111C4.37682 10.885 4.36001 10.6527 4.28905 10.4345C4.21808 10.2163 4.09509 10.0186 3.93069 9.85848L1.44002 7.43381C1.39242 7.38783 1.35868 7.32941 1.34266 7.26519C1.32664 7.20098 1.32898 7.13355 1.34941 7.0706C1.36983 7.00765 1.40753 6.9517 1.4582 6.90913C1.50888 6.86656 1.57049 6.83907 1.63602 6.82981L5.07935 6.32648C5.30619 6.29348 5.52161 6.20585 5.70708 6.07113C5.89254 5.93642 6.04249 5.75866 6.14402 5.55314L7.68335 2.43381Z" fill="#F3BB44" stroke="#F3BB44" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M27.6834 2.43381C27.7126 2.37478 27.7577 2.3251 27.8137 2.29036C27.8696 2.25562 27.9342 2.23721 28 2.23721C28.0659 2.23721 28.1304 2.25562 28.1864 2.29036C28.2423 2.3251 28.2875 2.37478 28.3167 2.43381L29.8567 5.55314C29.9581 5.75845 30.1079 5.93608 30.2931 6.07078C30.4783 6.20547 30.6934 6.29322 30.92 6.32648L34.364 6.83048C34.4293 6.83993 34.4906 6.86746 34.541 6.90994C34.5914 6.95243 34.629 7.00817 34.6494 7.07088C34.6698 7.13359 34.6722 7.20075 34.6564 7.26477C34.6406 7.32879 34.6072 7.38711 34.56 7.43314L32.0694 9.85848C31.9051 10.0185 31.7822 10.2161 31.7112 10.4342C31.6403 10.6523 31.6234 10.8844 31.662 11.1105L32.25 14.5371C32.2615 14.6024 32.2545 14.6695 32.2297 14.7309C32.2049 14.7923 32.1633 14.8455 32.1097 14.8845C32.0561 14.9234 31.9927 14.9465 31.9266 14.9511C31.8605 14.9557 31.7945 14.9416 31.736 14.9105L28.6574 13.2918C28.4545 13.1853 28.2288 13.1296 27.9997 13.1296C27.7706 13.1296 27.5449 13.1853 27.342 13.2918L24.264 14.9105C24.2056 14.9414 24.1396 14.9553 24.0737 14.9506C24.0077 14.946 23.9444 14.9229 23.8909 14.884C23.8374 14.8451 23.7959 14.7919 23.7711 14.7306C23.7463 14.6693 23.7393 14.6023 23.7507 14.5371L24.338 11.1111C24.3768 10.885 24.36 10.6527 24.289 10.4345C24.2181 10.2163 24.0951 10.0186 23.9307 9.85848L21.44 7.43381C21.3924 7.38783 21.3587 7.32941 21.3427 7.26519C21.3266 7.20098 21.329 7.13355 21.3494 7.0706C21.3698 7.00765 21.4075 6.9517 21.4582 6.90913C21.5089 6.86656 21.5705 6.83907 21.636 6.82981L25.0794 6.32648C25.3062 6.29348 25.5216 6.20585 25.7071 6.07113C25.8925 5.93642 26.0425 5.75866 26.144 5.55314L27.6834 2.43381Z" fill="${item.rating.toFixed(1)<= 1.5 ? '#F6F6F6' : '#F3BB44'}" stroke="${item.rating.toFixed(1)<= 1.5 ? '#F6F6F6' : '#F3BB44'}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M47.6834 2.43381C47.7126 2.37478 47.7577 2.3251 47.8137 2.29036C47.8696 2.25562 47.9342 2.23721 48 2.23721C48.0659 2.23721 48.1304 2.25562 48.1864 2.29036C48.2423 2.3251 48.2875 2.37478 48.3167 2.43381L49.8567 5.55314C49.9581 5.75845 50.1079 5.93608 50.2931 6.07078C50.4783 6.20547 50.6934 6.29322 50.92 6.32648L54.364 6.83048C54.4293 6.83993 54.4906 6.86746 54.541 6.90994C54.5914 6.95243 54.629 7.00817 54.6494 7.07088C54.6698 7.13359 54.6722 7.20075 54.6564 7.26477C54.6406 7.32879 54.6072 7.38711 54.56 7.43314L52.0694 9.85848C51.9051 10.0185 51.7822 10.2161 51.7112 10.4342C51.6403 10.6523 51.6234 10.8844 51.662 11.1105L52.25 14.5371C52.2615 14.6024 52.2545 14.6695 52.2297 14.7309C52.2049 14.7923 52.1633 14.8455 52.1097 14.8845C52.0561 14.9234 51.9927 14.9465 51.9266 14.9511C51.8605 14.9557 51.7945 14.9416 51.736 14.9105L48.6574 13.2918C48.4545 13.1853 48.2288 13.1296 47.9997 13.1296C47.7706 13.1296 47.5449 13.1853 47.342 13.2918L44.264 14.9105C44.2056 14.9414 44.1396 14.9553 44.0737 14.9506C44.0077 14.946 43.9444 14.9229 43.8909 14.884C43.8374 14.8451 43.7959 14.7919 43.7711 14.7306C43.7463 14.6693 43.7393 14.6023 43.7507 14.5371L44.338 11.1111C44.3768 10.885 44.36 10.6527 44.289 10.4345C44.2181 10.2163 44.0951 10.0186 43.9307 9.85848L41.44 7.43381C41.3924 7.38783 41.3587 7.32941 41.3427 7.26519C41.3266 7.20098 41.329 7.13355 41.3494 7.0706C41.3698 7.00765 41.4075 6.9517 41.4582 6.90913C41.5089 6.86656 41.5705 6.83907 41.636 6.82981L45.0794 6.32648C45.3062 6.29348 45.5216 6.20585 45.7071 6.07113C45.8925 5.93642 46.0425 5.75866 46.144 5.55314L47.6834 2.43381Z" fill="${item.rating.toFixed(1)<= 2.5 ? '#F6F6F6' : '#F3BB44'}" stroke="${item.rating.toFixed(1)<= 2.5 ? '#F6F6F6' : '#F3BB44'}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M67.6834 2.43381C67.7126 2.37478 67.7577 2.3251 67.8137 2.29036C67.8696 2.25562 67.9342 2.23721 68 2.23721C68.0659 2.23721 68.1304 2.25562 68.1864 2.29036C68.2423 2.3251 68.2875 2.37478 68.3167 2.43381L69.8567 5.55314C69.9581 5.75845 70.1079 5.93608 70.2931 6.07078C70.4783 6.20547 70.6934 6.29322 70.92 6.32648L74.364 6.83048C74.4293 6.83993 74.4906 6.86746 74.541 6.90994C74.5914 6.95243 74.629 7.00817 74.6494 7.07088C74.6698 7.13359 74.6722 7.20075 74.6564 7.26477C74.6406 7.32879 74.6072 7.38711 74.56 7.43314L72.0694 9.85848C71.9051 10.0185 71.7822 10.2161 71.7112 10.4342C71.6403 10.6523 71.6234 10.8844 71.662 11.1105L72.25 14.5371C72.2615 14.6024 72.2545 14.6695 72.2297 14.7309C72.2049 14.7923 72.1633 14.8455 72.1097 14.8845C72.0561 14.9234 71.9927 14.9465 71.9266 14.9511C71.8605 14.9557 71.7945 14.9416 71.736 14.9105L68.6574 13.2918C68.4545 13.1853 68.2288 13.1296 67.9997 13.1296C67.7706 13.1296 67.5449 13.1853 67.342 13.2918L64.264 14.9105C64.2056 14.9414 64.1396 14.9553 64.0737 14.9506C64.0077 14.946 63.9444 14.9229 63.8909 14.884C63.8374 14.8451 63.7959 14.7919 63.7711 14.7306C63.7463 14.6693 63.7393 14.6023 63.7507 14.5371L64.338 11.1111C64.3768 10.885 64.36 10.6527 64.289 10.4345C64.2181 10.2163 64.0951 10.0186 63.9307 9.85848L61.44 7.43381C61.3924 7.38783 61.3587 7.32941 61.3427 7.26519C61.3266 7.20098 61.329 7.13355 61.3494 7.0706C61.3698 7.00765 61.4075 6.9517 61.4582 6.90913C61.5089 6.86656 61.5705 6.83907 61.636 6.82981L65.0794 6.32648C65.3062 6.29348 65.5216 6.20585 65.7071 6.07113C65.8925 5.93642 66.0425 5.75866 66.144 5.55314L67.6834 2.43381Z" fill="${item.rating.toFixed(1)<= 3.5 ? '#F6F6F6' : '#F3BB44'}" stroke="${item.rating.toFixed(1)<= 3.5 ? '#F6F6F6' : '#F3BB44'}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M87.6834 2.43381C87.7126 2.37478 87.7577 2.3251 87.8137 2.29036C87.8696 2.25562 87.9342 2.23721 88 2.23721C88.0659 2.23721 88.1304 2.25562 88.1864 2.29036C88.2423 2.3251 88.2875 2.37478 88.3167 2.43381L89.8567 5.55314C89.9581 5.75845 90.1079 5.93608 90.2931 6.07078C90.4783 6.20547 90.6934 6.29322 90.92 6.32648L94.364 6.83048C94.4293 6.83993 94.4906 6.86746 94.541 6.90994C94.5914 6.95243 94.629 7.00817 94.6494 7.07088C94.6698 7.13359 94.6722 7.20075 94.6564 7.26477C94.6406 7.32879 94.6072 7.38711 94.56 7.43314L92.0694 9.85848C91.9051 10.0185 91.7822 10.2161 91.7112 10.4342C91.6403 10.6523 91.6234 10.8844 91.662 11.1105L92.25 14.5371C92.2615 14.6024 92.2545 14.6695 92.2297 14.7309C92.2049 14.7923 92.1633 14.8455 92.1097 14.8845C92.0561 14.9234 91.9927 14.9465 91.9266 14.9511C91.8605 14.9557 91.7945 14.9416 91.736 14.9105L88.6574 13.2918C88.4545 13.1853 88.2288 13.1296 87.9997 13.1296C87.7706 13.1296 87.5449 13.1853 87.342 13.2918L84.264 14.9105C84.2056 14.9414 84.1396 14.9553 84.0737 14.9506C84.0077 14.946 83.9444 14.9229 83.8909 14.884C83.8374 14.8451 83.7959 14.7919 83.7711 14.7306C83.7463 14.6693 83.7393 14.6023 83.7507 14.5371L84.338 11.1111C84.3768 10.885 84.36 10.6527 84.289 10.4345C84.2181 10.2163 84.0951 10.0186 83.9307 9.85848L81.44 7.43381C81.3924 7.38783 81.3587 7.32941 81.3427 7.26519C81.3266 7.20098 81.329 7.13355 81.3494 7.0706C81.3698 7.00765 81.4075 6.9517 81.4582 6.90913C81.5089 6.86656 81.5705 6.83907 81.636 6.82981L85.0794 6.32648C85.3062 6.29348 85.5216 6.20585 85.7071 6.07113C85.8925 5.93642 86.0425 5.75866 86.144 5.55314L87.6834 2.43381Z" fill="${item.rating.toFixed(1)<= 4.5 ? '#F6F6F6' : '#F3BB44'}" stroke="${item.rating.toFixed(1)<= 4.5 ? '#F6F6F6' : '#F3BB44'}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <svg class="rating-mob" width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_2001_29)">
                        <path d="M5.76252 1.14749C5.78443 1.10322 5.81828 1.06596 5.86024 1.03991C5.90221 1.01385 5.95062 1.00005 6.00002 1.00005C6.04941 1.00005 6.09782 1.01385 6.13979 1.03991C6.18176 1.06596 6.2156 1.10322 6.23752 1.14749L7.39252 3.48699C7.4686 3.64098 7.58092 3.7742 7.71983 3.87522C7.85873 3.97624 8.02008 4.04205 8.19002 4.06699L10.773 4.44499C10.822 4.45208 10.8679 4.47273 10.9058 4.50459C10.9436 4.53646 10.9717 4.57827 10.987 4.6253C11.0023 4.67232 11.0042 4.7227 10.9923 4.77071C10.9805 4.81873 10.9554 4.86247 10.92 4.89699L9.05202 6.71599C8.92882 6.83604 8.83665 6.98423 8.78343 7.14781C8.73022 7.31138 8.71755 7.48544 8.74652 7.65499L9.18752 10.225C9.19616 10.2739 9.19087 10.3243 9.17227 10.3703C9.15366 10.4164 9.12248 10.4563 9.08229 10.4855C9.0421 10.5147 8.9945 10.532 8.94495 10.5354C8.89539 10.5389 8.84586 10.5283 8.80202 10.505L6.49302 9.29099C6.34087 9.21111 6.17161 9.16937 5.99977 9.16937C5.82793 9.16937 5.65866 9.21111 5.50652 9.29099L3.19801 10.505C3.15418 10.5282 3.10471 10.5386 3.05524 10.5351C3.00577 10.5316 2.95827 10.5143 2.91816 10.4851C2.87805 10.4559 2.84693 10.4161 2.82834 10.3701C2.80975 10.3241 2.80444 10.2738 2.81301 10.225L3.25352 7.65549C3.28261 7.48586 3.27001 7.31169 3.21678 7.14802C3.16356 6.98434 3.07132 6.83607 2.94801 6.71599L1.08001 4.89749C1.04431 4.86301 1.01901 4.81919 1.007 4.77103C0.994981 4.72287 0.996733 4.6723 1.01205 4.62509C1.02738 4.57787 1.05565 4.53591 1.09365 4.50398C1.13166 4.47205 1.17787 4.45144 1.22701 4.44449L3.80951 4.06699C3.97964 4.04224 4.14121 3.97652 4.28031 3.87549C4.4194 3.77445 4.53187 3.64113 4.60802 3.48699L5.76252 1.14749Z" fill="#F3BB44" stroke="#F3BB44" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </g>
                        <defs>
                        <clipPath id="clip0_2001_29">
                        <rect width="12" height="12" fill="white"/>
                        </clipPath>
                        </defs>
                    </svg>
                    <span class="item__rating-numb">
                    ${item.rating.toFixed(1)}
                    </span>            
                </div>
                <div class="item__review">
                    <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M14.543 8.65918C15.0442 9.30244 15.3329 10.0524 15.333 10.8545C15.333 11.4766 15.1602 12.0683 14.8486 12.6025C14.6967 12.8629 14.8711 13.7546 15.0518 14.4805C15.1537 14.8901 14.7423 15.2678 14.3438 15.1289C13.5729 14.8604 12.5805 14.5652 12.2529 14.6934C11.4777 14.9965 10.5985 15.167 9.66699 15.167C7.97345 15.167 6.4544 14.6004 5.41602 13.7041C5.9271 13.7924 6.457 13.8398 7 13.8398C10.7681 13.8397 13.899 11.6046 14.543 8.65918Z" fill="#262F56"/>
                      <path d="M13.3337 7.53846C13.3337 10.2866 10.4981 12.5144 7.00033 12.5144C6.04768 12.5144 5.14415 12.3492 4.33366 12.0532C3.95204 11.9138 2.63467 12.2519 1.68826 12.5291C1.28107 12.6483 0.893237 12.2419 1.02305 11.838C1.2726 11.0615 1.52942 10.0703 1.33366 9.76314C0.90706 9.09367 0.666992 8.3381 0.666992 7.53846C0.666992 4.79031 3.50252 2.5625 7.00033 2.5625C10.4981 2.5625 13.3337 4.79031 13.3337 7.53846Z" fill="#262F56"/>
                    </svg>  
                    <span class="item__review-numb">
                    ${item.review_count}
                    </span>       
                </div>
                <div class="item__bonus">
                ${item.badge === 'exclusive' ? '<span class="item__badge exclusive">Эксклюзив</span>' : ''}
                ${item.badge === 'no-deposit' ? '<span class="item__badge no-deposit">Без депозита</span>' : ''}
                ${item.badge === 'no-bonus' ? '<span class="item__badge no-bonus">Нет бонуса</span>' : ''}
                ${item.bonus_amount != '0' ? `<span class="item__bonus-numb"><svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.26953 9.67444V15.6119H3.05273C2.27048 15.6118 1.63673 14.9772 1.63672 14.1949V9.67444H7.26953ZM14.3643 14.1949C14.3642 14.9773 13.7297 15.6119 12.9473 15.6119H8.54395V9.67444H14.3643V14.1949ZM9.32031 2.25257C10.3583 1.59124 11.7361 1.89629 12.3975 2.93421C13.0587 3.97225 12.7528 5.35002 11.7148 6.01136C11.6855 6.03005 11.6538 6.04674 11.6221 6.06507H14.292C14.6832 6.06507 15 6.38285 15 6.77405V7.91077C15 8.10809 14.9084 8.28223 14.7676 8.39905H8.54395V5.94202H7.26953V8.39905H1.23242C1.09152 8.28223 1.00001 8.10796 1 7.91077V6.77405C1 6.38296 1.31696 6.06524 1.70801 6.06507H4.38086C4.3489 6.04664 4.31663 6.03016 4.28711 6.01136C3.2495 5.34994 2.94443 3.97209 3.60547 2.93421C4.26673 1.89655 5.64377 1.59161 6.68164 2.25257C7.11039 2.52574 7.61867 3.05744 8.00098 3.61878C8.38324 3.05743 8.89154 2.52583 9.32031 2.25257ZM5.99707 3.32776C5.55301 3.04496 4.96358 3.17563 4.68066 3.61975C4.39792 4.06389 4.52875 4.6532 4.97266 4.93616C5.24115 5.10718 5.84233 5.32019 6.44434 5.39514C6.73919 5.43183 6.99034 5.42856 7.1709 5.39319C7.36149 5.35577 7.37828 5.30367 7.3623 5.32874C7.3471 5.35291 7.38714 5.31494 7.34082 5.12757C7.29662 4.94887 7.19217 4.72035 7.03418 4.46839C6.71182 3.95433 6.26554 3.49886 5.99707 3.32776ZM11.3223 3.61975C11.0394 3.17575 10.4499 3.04509 10.0059 3.32776C9.73735 3.49892 9.29011 3.95432 8.96777 4.46839C8.80987 4.72026 8.70629 4.94893 8.66211 5.12757C8.61558 5.31578 8.6554 5.35355 8.63965 5.32874C8.62379 5.30392 8.64106 5.35582 8.83105 5.39319C9.01154 5.42863 9.26274 5.43179 9.55762 5.39514C10.1597 5.32024 10.7617 5.1072 11.0303 4.93616C11.474 4.6532 11.6049 4.06384 11.3223 3.61975Z" fill="#262F56"/></svg>${(item.bonus_amount / 1000).toLocaleString()}K₽</span>` : ''}

                </div>
                <div class="item__link">
                  <a href="${item.internal_link}" class="item__internal">ОБЗОР</a>
                  <a href="${item.external_link}" class="item__external">САЙТ</a>
                </div>
          `;
  
          container.appendChild(card);
        });
      })
      .catch(error => {
        console.error('Ошибка при загрузке данных:', error);
      });
  }
  